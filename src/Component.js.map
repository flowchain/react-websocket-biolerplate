{"version":3,"sources":["Component.js"],"names":[],"mappings":";;;;;;;;;AAAA;;;;AACA;;AACA;;;;;;;;;;IAEa,W,WAAA,W;;;AACT,yBAAY,KAAZ,EAAmB,OAAnB,EAA4B;AAAA;;AAGxB;AAHwB,mGAClB,KADkB,EACX,OADW;;AAIxB,cAAK,KAAL,GAAa;AACT,yBAAa,CAAC;AADL,SAAb;;AAIA;AACA,cAAK,SAAL,GAAiB,MAAK,SAAL,CAAe,IAAf,OAAjB;;AAEA;AACA,6CAAiB,OAAjB,CAAyB,MAAK,KAAL,CAAW,MAApC;AAZwB;AAa3B;;;;4CAEmB;AAChB;AACA,+CAAe,kBAAf,CAAkC,KAAK,SAAvC;AACH;;;+CAEsB;AACnB;AACA,+CAAe,qBAAf,CAAqC,KAAK,SAA1C;AACH;;;kCAES,I,EAAM;AACZ;AACA,iBAAK,QAAL,CAAc;AACV,6BAAa,KAAK;AADR,aAAd;AAGA,oBAAQ,GAAR,CAAY,IAAZ;AACH;;;iCAEQ;AACL,mBACI,gBAAM,aAAN,CAAoB,KAApB,EAA2B,IAA3B,EACI,gBAAM,aAAN,CAAoB,IAApB,EAA0B,IAA1B,EAAgC,KAAK,KAAL,CAAW,WAA3C,CADJ,CADJ;AAKH","file":"Component.js","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { WebsocketStore, WebsocketActions } from 'react-websocket-flux';\n\nexport class MyComponent extends Component {\n    constructor(props, context) {\n        super(props, context);\n\n        // 初始化 this.state\n        this.state = {\n            temperature: -1\n        };\n\n        // WebSocket 的 'onMessage' callback\n        this.onMessage = this.onMessage.bind(this);\n\n        // 連線到 WebSocket Server\n        WebsocketActions.connect(this.props.server);\n    }\n\n    componentDidMount() {\n        // 將 'onMessage' 註冊到 Flux 的 Store\n        WebsocketStore.addMessageListener(this.onMessage);\n    }\n\n    componentWillUnmount() {\n        // 將 'onMessage' 從 Flux 的 Store 解除註冊       \n        WebsocketStore.removeMessageListener(this.onMessage);      \n    }\n\n    onMessage(data) {\n        // Deserialize\n        this.setState({\n            temperature: data.temperature\n        });\n        console.log(data)\n    }\n\n    render() {\n        return (    \n            React.createElement(\"div\", null, \n                React.createElement(\"h1\", null, this.state.temperature)\n            )\n        );\n    }\n}"],"sourceRoot":"/source/"}